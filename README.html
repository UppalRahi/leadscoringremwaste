<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Lead Scoring Workflow</title>
    
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: The SPA is designed as a single, vertically-scrolling page to tell a story. It starts with a high-level introduction (Hero), then dives into the core process with an interactive workflow diagram where users can click each step to get more details in a modal. This is followed by a hands-on "Lead Score Simulator" to make the abstract logic tangible. The page concludes with sections on the technology stack and key takeaways. This top-down, interactive structure was chosen to make a technical process report accessible and engaging for any audience, prioritizing understanding over simply mimicking the report's layout. -->
    <!-- Visualization & Content Choices: The central piece of information is the workflow process. Goal: Organize & Inform. Method: An interactive flowchart made with HTML/CSS and Tailwind, which is more appropriate than a data chart. Interaction: Clicking a step opens a modal with details. Justification: Visualizing the process flow is more intuitive than reading text. For the scoring logic, Goal: Engage & Inform. Method: A "Lead Score Simulator" with a slider and radio buttons. Interaction: User manipulates controls to see the score update in real-time. Justification: This provides a hands-on experience that solidifies understanding of the core business rule. Other info like the tech stack is presented in visually distinct cards. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F5F2; /* Warm Neutral Background */
            color: #333333;
        }
        .accent-color { color: #4A90E2; }
        .accent-bg { background-color: #4A90E2; }
        .secondary-bg { background-color: #EAE6E1; }
        .modal {
            transition: opacity 0.25s ease;
        }
        .modal-content {
            transition: transform 0.25s ease;
        }
        .flow-arrow {
            font-size: 2rem;
            color: #d1d5db;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="text-center p-8 md:p-12">
        <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight mb-2">Lead Scoring & Notification Automation</h1>
        <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">An interactive breakdown of an automated workflow that qualifies leads, stores them, and sends smart notifications for high-value opportunities.</p>
    </header>

    <main class="container mx-auto px-4 pb-20">

        <!-- Section: Interactive Workflow -->
        <section id="workflow" class="my-16">
            <h2 class="text-3xl font-bold text-center mb-4">How It Works</h2>
            <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">This is the core of the automation. Click on any step below to see more details about its function, the technology used, and sample data.</p>
            
            <div class="flex flex-col md:flex-row items-center justify-center space-y-8 md:space-y-0 md:space-x-8">
                <!-- Step 1: Trigger -->
                <div class="workflow-step text-center cursor-pointer" data-step="trigger">
                    <div class="bg-white rounded-xl shadow-lg p-6 w-64 h-40 flex flex-col justify-center items-center border-2 border-transparent hover:border-blue-500 transition-all duration-300 transform hover:-translate-y-1">
                        <div class="text-4xl mb-2">üì•</div>
                        <h3 class="font-bold text-lg">Webhook Trigger</h3>
                        <p class="text-sm text-gray-500">Receives New Leads</p>
                    </div>
                </div>
                
                <div class="flow-arrow transform md:-rotate-90">‚Üì</div>

                <!-- Step 2: Scoring -->
                <div class="workflow-step text-center cursor-pointer" data-step="scoring">
                    <div class="bg-white rounded-xl shadow-lg p-6 w-64 h-40 flex flex-col justify-center items-center border-2 border-transparent hover:border-blue-500 transition-all duration-300 transform hover:-translate-y-1">
                        <div class="text-4xl mb-2">‚öñÔ∏è</div>
                        <h3 class="font-bold text-lg">Scoring Logic</h3>
                        <p class="text-sm text-gray-500">Qualifies Leads</p>
                    </div>
                </div>

                <div class="flow-arrow transform md:-rotate-90">‚Üì</div>

                <!-- Step 3: Storage -->
                <div class="workflow-step text-center cursor-pointer" data-step="storage">
                    <div class="bg-white rounded-xl shadow-lg p-6 w-64 h-40 flex flex-col justify-center items-center border-2 border-transparent hover:border-blue-500 transition-all duration-300 transform hover:-translate-y-1">
                        <div class="text-4xl mb-2">üóÑÔ∏è</div>
                        <h3 class="font-bold text-lg">Data Storage</h3>
                        <p class="text-sm text-gray-500">Saves to Database</p>
                    </div>
                </div>

                <div class="flow-arrow transform md:-rotate-90">‚Üì</div>

                <!-- Step 4: Notification -->
                <div class="workflow-step text-center cursor-pointer" data-step="notification">
                    <div class="bg-white rounded-xl shadow-lg p-6 w-64 h-40 flex flex-col justify-center items-center border-2 border-transparent hover:border-blue-500 transition-all duration-300 transform hover:-translate-y-1">
                        <div class="text-4xl mb-2">üîî</div>
                        <h3 class="font-bold text-lg">Smart Notification</h3>
                        <p class="text-sm text-gray-500">Alerts for Hot Leads</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Lead Score Simulator -->
        <section id="simulator" class="my-24 bg-white rounded-2xl shadow-xl p-8 md:p-12">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-3xl font-bold mb-4">Lead Score Simulator</h2>
                    <p class="text-gray-600 mb-8">See the scoring logic in action. Adjust the budget and interest level to see how a lead's score changes instantly. This demonstrates the core business rule of the automation.</p>
                    
                    <!-- Controls -->
                    <div class="space-y-6">
                        <div>
                            <label for="budget-slider" class="block font-medium mb-2">Lead's Budget: <span id="budget-value" class="font-bold accent-color">¬£5000</span></label>
                            <input type="range" id="budget-slider" min="0" max="10000" step="100" value="5000" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                        </div>
                        <div>
                            <label class="block font-medium mb-2">Interest Level:</label>
                            <div class="flex space-x-4" id="interest-level-selector">
                                <label class="flex items-center space-x-2 cursor-pointer">
                                    <input type="radio" name="interest" value="Low" class="form-radio h-5 w-5 accent-color">
                                    <span>Low</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer">
                                    <input type="radio" name="interest" value="Medium" class="form-radio h-5 w-5 accent-color" checked>
                                    <span>Medium</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer">
                                    <input type="radio" name="interest" value="High" class="form-radio h-5 w-5 accent-color">
                                    <span>High</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Result Display -->
                <div id="score-result-card" class="secondary-bg rounded-xl p-8 text-center flex flex-col justify-center items-center h-full transition-all duration-300">
                    <p class="font-medium text-gray-600 mb-2">Calculated Score</p>
                    <div id="score-display" class="text-5xl font-extrabold">Warm Lead</div>
                    <p id="score-reason" class="mt-4 text-gray-500">Budget is over ¬£1000 but interest is not High.</p>
                </div>
            </div>
        </section>

        <!-- Section: Tech Stack -->
        <section id="tech-stack" class="my-16">
            <h2 class="text-3xl font-bold text-center mb-12">Technology Stack</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto">
                <div class="bg-white rounded-xl shadow-lg p-6 text-center flex flex-col items-center justify-center">
                    <div class="text-4xl mb-2">‚öôÔ∏è</div><h3 class="font-bold text-lg">n8n</h3>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 text-center flex flex-col items-center justify-center">
                    <div class="text-4xl mb-2">üêò</div><h3 class="font-bold text-lg">Supabase</h3>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 text-center flex flex-col items-center justify-center">
                    <div class="text-4xl mb-2">üí¨</div><h3 class="font-bold text-lg">Slack</h3>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 text-center flex flex-col items-center justify-center">
                    <div class="text-4xl mb-2">üåê</div><h3 class="font-bold text-lg">GitHub Pages</h3>
                </div>
            </div>
        </section>

        <!-- Section: Key Takeaways -->
        <section id="takeaways" class="my-16">
            <h2 class="text-3xl font-bold text-center mb-12">Limitations & Improvements</h2>
            <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h3 class="font-bold text-lg mb-2">üéØ More Nuanced Scoring</h3>
                    <p class="text-gray-600">The current logic is simple. A future version could use a point-based system considering more factors like company size or industry for greater accuracy.</p>
                </div>
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h3 class="font-bold text-lg mb-2">üõ°Ô∏è Robust Validation</h3>
                    <p class="text-gray-600">The workflow assumes valid input. Server-side validation should be added within n8n to handle missing fields or incorrect data types gracefully.</p>
                </div>
                <div class="bg-white rounded-xl p-6 shadow-lg">
                    <h3 class="font-bold text-lg mb-2">üìà CRM Integration</h3>
                    <p class="text-gray-600">While Supabase is effective for storage, a dedicated CRM integration would provide better long-term lead management and sales pipeline tracking.</p>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Modal -->
    <div id="modal" class="modal fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 opacity-0 pointer-events-none">
        <div id="modal-content" class="modal-content bg-white rounded-2xl shadow-2xl w-11/12 max-w-2xl p-8 transform scale-95">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-2xl font-bold"></h3>
                <button id="modal-close-btn" class="text-3xl font-light text-gray-500 hover:text-black">&times;</button>
            </div>
            <div id="modal-body" class="text-gray-700"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Modal Logic
            const modal = document.getElementById('modal');
            const modalContent = document.getElementById('modal-content');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            const modalCloseBtn = document.getElementById('modal-close-btn');

            const modalData = {
                trigger: {
                    title: 'üì• Webhook Trigger',
                    content: `
                        <p class="mb-4">The workflow starts when a new lead is submitted from a web form. The n8n Webhook node listens for incoming HTTP POST requests at a unique URL.</p>
                        <h4 class="font-semibold mb-2">Accepted Data Fields:</h4>
                        <ul class="list-disc list-inside bg-gray-50 p-4 rounded-lg">
                            <li>full_name</li>
                            <li>email</li>
                            <li>phone</li>
                            <li>company_size</li>
                            <li>budget</li>
                            <li>interest_level</li>
                        </ul>
                    `
                },
                scoring: {
                    title: '‚öñÔ∏è Scoring Logic',
                    content: `
                        <p class="mb-4">Once a lead is received, the IF node immediately evaluates it based on a set of rules to determine its priority.</p>
                        <h4 class="font-semibold mb-2">Scoring Rules:</h4>
                        <div class="space-y-2">
                            <div class="bg-red-50 border border-red-200 p-3 rounded-lg"><strong>Hot Lead:</strong> Budget > ¬£5000 AND Interest Level is 'High'</div>
                            <div class="bg-yellow-50 border border-yellow-200 p-3 rounded-lg"><strong>Warm Lead:</strong> Budget > ¬£1000 (and not a Hot Lead)</div>
                            <div class="bg-blue-50 border border-blue-200 p-3 rounded-lg"><strong>Cold Lead:</strong> All other cases</div>
                        </div>
                    `
                },
                storage: {
                    title: 'üóÑÔ∏è Data Storage',
                    content: `
                        <p class="mb-4">Every lead, regardless of its score, is saved to a database for tracking and future reference. This is handled by the Supabase node.</p>
                        <h4 class="font-semibold mb-2">Database Schema (leads table):</h4>
                        <pre class="bg-gray-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>CREATE TABLE leads (
  id UUID PRIMARY KEY,
  full_name TEXT,
  email TEXT,
  budget INTEGER,
  interest_level TEXT,
  score TEXT,
  created_at TIMESTAMPTZ
);</code></pre>
                    `
                },
                notification: {
                    title: 'üîî Smart Notification',
                    content: `
                        <p class="mb-4">If a lead is scored as 'Hot', a real-time notification is sent to the sales team via Slack. This allows for immediate follow-up on high-value opportunities.</p>
                        <h4 class="font-semibold mb-2">Sample Slack Message:</h4>
                        <div class="bg-gray-100 p-4 rounded-lg border border-gray-200">
                            <p class="font-bold">üî• New Hot Lead: John Doe</p>
                            <p><strong>Budget:</strong> ¬£7500</p>
                            <p><strong>Interest:</strong> High</p>
                            <p class="mt-2 text-sm text-gray-600">‚Äì Check Supabase for full details.</p>
                        </div>
                    `
                }
            };

            document.querySelectorAll('.workflow-step').forEach(step => {
                step.addEventListener('click', () => {
                    const stepId = step.dataset.step;
                    modalTitle.textContent = modalData[stepId].title;
                    modalBody.innerHTML = modalData[stepId].content;
                    modal.classList.remove('opacity-0', 'pointer-events-none');
                    modalContent.classList.remove('scale-95');
                });
            });

            const closeModal = () => {
                modal.classList.add('opacity-0', 'pointer-events-none');
                modalContent.classList.add('scale-95');
            };

            modalCloseBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            // Simulator Logic
            const budgetSlider = document.getElementById('budget-slider');
            const budgetValueDisplay = document.getElementById('budget-value');
            const interestSelector = document.getElementById('interest-level-selector');
            const scoreDisplay = document.getElementById('score-display');
            const scoreReason = document.getElementById('score-reason');
            const scoreCard = document.getElementById('score-result-card');

            const updateScore = () => {
                const budget = parseInt(budgetSlider.value);
                const interest = document.querySelector('input[name="interest"]:checked').value;

                budgetValueDisplay.textContent = `¬£${budget.toLocaleString()}`;
                
                let score = '';
                let reason = '';
                let cardColor = 'secondary-bg';

                if (budget > 5000 && interest === 'High') {
                    score = 'Hot Lead';
                    reason = 'Budget is over ¬£5000 and interest is High.';
                    cardColor = 'bg-red-100';
                } else if (budget > 1000) {
                    score = 'Warm Lead';
                    reason = 'Budget is over ¬£1000 but interest is not High.';
                    cardColor = 'bg-yellow-100';
                } else {
                    score = 'Cold Lead';
                    reason = 'Budget is ¬£1000 or less.';
                    cardColor = 'bg-blue-100';
                }
                
                scoreDisplay.textContent = score;
                scoreReason.textContent = reason;
                scoreCard.className = `rounded-xl p-8 text-center flex flex-col justify-center items-center h-full transition-all duration-300 ${cardColor}`;
            };

            budgetSlider.addEventListener('input', updateScore);
            interestSelector.addEventListener('change', updateScore);
            
            // Initial call
            updateScore();
        });
    </script>
</body>
</html>
